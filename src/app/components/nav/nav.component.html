<mat-sidenav-container class="wrapper" autosize>
  <mat-sidenav
    class="sidebar"
    [mode]="store.isPhoneScreen || store.isTabletScreen ? 'over' : 'side'"
    [opened]="store.isNavOpened"
    (openedChange)="store.isNavOpened = $event"
    [class.collapsed-side]="isNavCollapsed"
  >
    <div class="sidenav-container">
      <div class="btn-compose" routerLink="/new">
        <mat-icon>create</mat-icon>
        New
      </div>

      <mat-nav-list style="flex: 1;">
        <a
          mat-list-item
          routerLink="/"
          [routerLinkActive]="'is-active'"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <mat-icon>view_module</mat-icon>
          Grid
        </a>

        <a mat-list-item routerLink="/edit" [routerLinkActive]="'is-active'">
          <mat-icon>notes</mat-icon>
          List
        </a>

        <mat-divider></mat-divider>

        <mat-list-item>
          <mat-icon>local_offer</mat-icon>
          Tags
        </mat-list-item>

        <a
          mat-list-item
          *ngFor="let tag of store.tags"
          [routerLink]="'/tag/' + tag"
          [routerLinkActive]="'is-active'"
          [matTooltip]="tag"
          [matTooltipShowDelay]="500"
        >
          <mat-icon>label</mat-icon>
          <div class="tag-name">{{ tag }}</div>
        </a>
      </mat-nav-list>

      <mat-divider></mat-divider>

      <mat-nav-list>
        <a mat-list-item (click)="logout()">
          <mat-icon>exit_to_app</mat-icon>
          Log out
        </a>
      </mat-nav-list>

      <mat-divider></mat-divider>

      <div class="nav-expander" (click)="collapseNav()">
        <mat-icon>{{ isNavCollapsed ? 'keyboard_arrow_right' : 'keyboard_arrow_left' }}</mat-icon>
      </div>
    </div>
  </mat-sidenav>

  <mat-sidenav-content class="sidenav-content">
    <mat-progress-bar mode="indeterminate" *ngIf="store.isLoading"></mat-progress-bar>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
